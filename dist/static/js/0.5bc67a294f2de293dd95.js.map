{"version":3,"sources":["webpack:///static/js/0.5bc67a294f2de293dd95.js","webpack:///src/components/Tinymce/index.vue","webpack:///./src/views/Admin/templateManagement/createTemplate.vue?666a","webpack:///./src/components/Tinymce/index.vue","webpack:///./src/views/Admin/templateManagement/createTemplate.vue?8607","webpack:///./src/components/Tinymce/components/editorImage.vue","webpack:///./src/components/Tinymce/index.vue?518c","webpack:///src/views/Admin/templateManagement/createTemplate.vue","webpack:///./src/components/Tinymce/index.vue?20a7","webpack:///src/components/Tinymce/components/editorImage.vue","webpack:///./src/components/Tinymce/components/editorImage.vue?b7cf","webpack:///./src/components/Tinymce/components/editorImage.vue?ad39","webpack:///./src/views/Admin/templateManagement/createTemplate.vue?a778","webpack:///./src/components/Tinymce/index.vue?d638","webpack:///./src/components/Tinymce/components/editorImage.vue?1e31","webpack:///./src/views/Admin/templateManagement/createTemplate.vue"],"names":["webpackJsonp","0On2","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__components_editorImage__","name","components","editorImage","props","templateName","type","String","default","templateCategory","Array","id","value","toolbar","required","menubar","height","Number","data","hasChange","hasInit","tinymceId","this","Date","watch","val","_this2","$nextTick","window","tinymce","get","setContent","mounted","initTinymce","activated","deactivated","destroyTinymce","methods","_this3","_this","init","selector","theme","plugins","toolbar1","image_advtab","templates","title","content","init_instance_callback","editor","on","$emit","getContent","format","destroy","imageSuccessCBK","arr","forEach","v","insertContent","url","submitAll","_this4","self","$message","message","duration","length","$axios","method","template_name","template_category","html","then","res","result","historyTable","history","errorMessage","catch","error","console","log","destroyed","29/5","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","staticStyle","margin-bottom","width","placeholder","clearable","model","callback","$$v","expression","_v","ref","expand-trigger","options","categoryCascader","categoryProps","show-all-levels","selectedParentCategory","_s","code","staticRenderFns","esExports","5aCZ","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2ca58c46_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","5hYi","exports","i","locals","5szV","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editorImage_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32bfa10c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editorImage_vue__","H0D9","click","T+B7","__WEBPACK_IMPORTED_MODULE_0__components_Tinymce__","Tinymce","ip","children","label","join","loadCategories","treeData","tempTree","depthTraversal","response","body","treeNode","Wb17","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","bau3","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","color","dialogVisible","listObj","fileList","checkAllSuccess","every","item","hasSuccess","handleSubmit","map","handleSuccess","uid","objKeyArr","len","files","handleRemove","beforeUpload","_URL","URL","webkitURL","fileName","a","resolve","reject","img","Image","src","createObjectURL","onload","alert","dSU5","style","background","borderColor","icon","$event","visible","update:visible","action","multiple","file-list","show-file-list","list-type","on-remove","on-success","before-upload","size","elis","fdrf","jxOR","sIyH","w7T7","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_createTemplate_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5241665a_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_createTemplate_vue__"],"mappings":"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","file":"static/js/0.5bc67a294f2de293dd95.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"0On2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_editorImage__ = __webpack_require__(\"5szV\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'tinymce',\n  components: {\n    editorImage: __WEBPACK_IMPORTED_MODULE_0__components_editorImage__[\"a\" /* default */] },\n  props: {\n    templateName: {\n      type: String,\n      default: ''\n    },\n    templateCategory: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default: function _default() {\n        //        return ['removeformat undo redo |  bullist numlist | outdent indent | forecolor | fullscreen code', 'bold italic blockquote | h2 p  media link | alignleft aligncenter alignright']\n        return ['formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat'];\n      }\n    },\n    menubar: {\n      default: ''\n    },\n    height: {\n      type: Number,\n      required: false,\n      default: 360\n    }\n  },\n  data: function data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id || 'vue-tinymce-' + +new Date()\n    };\n  },\n\n  watch: {\n    value: function value(val) {\n      var _this2 = this;\n\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(function () {\n          return window.tinymce.get(_this2.tinymceId).setContent(val);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.initTinymce();\n  },\n  activated: function activated() {\n    this.initTinymce();\n  },\n  deactivated: function deactivated() {\n    this.destroyTinymce();\n  },\n\n  methods: {\n    initTinymce: function initTinymce() {\n      var _this3 = this;\n\n      var _this = this;\n      window.tinymce.init({\n        //        selector: 'textarea',\n        selector: '#' + this.tinymceId,\n        height: 500,\n        theme: 'modern',\n        plugins: 'print preview fullpage paste searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor wordcount imagetools media link contextmenu colorpicker textpattern help',\n        toolbar1: 'formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',\n        image_advtab: true,\n        templates: [{ title: 'Test template 1', content: 'Test 1' }, { title: 'Test template 2', content: 'Test 2' }],\n        init_instance_callback: function init_instance_callback(editor) {\n          if (_this.value) {\n            editor.setContent(_this.value);\n          }\n          _this.hasInit = true;\n          editor.on('NodeChange Change KeyUp', function () {\n            _this3.hasChange = true;\n            _this3.$emit('input', editor.getContent({ format: 'raw' }));\n          });\n        }\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      });\n    },\n    destroyTinymce: function destroyTinymce() {\n      if (window.tinymce.get(this.tinymceId)) {\n        window.tinymce.get(this.tinymceId).destroy();\n      }\n    },\n    setContent: function setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value);\n    },\n    getContent: function getContent() {\n      window.tinymce.get(this.tinymceId).getContent();\n    },\n    imageSuccessCBK: function imageSuccessCBK(arr) {\n      var _this = this;\n      arr.forEach(function (v) {\n        window.tinymce.get(_this.tinymceId).insertContent('<img class=\"wscnph\" src=\"' + v.url + '\" >');\n      });\n    },\n    submitAll: function submitAll() {\n      var _this4 = this;\n\n      // 提交创建好的模板\n      var self = this;\n      if (self.templateName === '') {\n        this.$message({\n          message: 'Please Enter Template Name',\n          type: 'error',\n          duration: 2000\n        });\n        return;\n      }\n      if (self.templateCategory.length === 0) {\n        this.$message({\n          message: 'Please Select Template Category',\n          type: 'error',\n          duration: 2000\n        });\n        return;\n      }\n      self.$axios({\n        //        url: `/admin/createTemplate`,\n        //        url: `http://192.168.0.15:5000/admin/createTemplate`,\n        url: 'http://121.42.252.18:5000/admin/createTemplate',\n        method: 'post',\n        data: {\n          template_name: self.templateName,\n          template_category: self.templateCategory,\n          html: window.tinymce.get(this.tinymceId).getContent()\n        }\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          self.historyTable = res.data.history;\n          _this4.$message({\n            message: 'Submitted successfully!',\n            type: 'success',\n            duration: 2000\n          });\n          //          console.log(self.historyTable)\n        } else if (res.data.result === 'failure') {\n          var errorMessage = res.data.errorMessage;\n          _this4.$message({\n            message: errorMessage,\n            type: 'error',\n            duration: 2000\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      //      console.log(window.tinymce.get(this.tinymceId).getContent())\n      //      console.log(this.templateName)\n    }\n  },\n  destroyed: function destroyed() {\n    this.destroyTinymce();\n  }\n});\n\n/***/ }),\n\n/***/ \"29/5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticStyle:{\"margin-bottom\":\"10px\",\"width\":\"100%\"},attrs:{\"placeholder\":\"Please Enter Template Name\",\"clearable\":\"\"},model:{value:(_vm.templateName),callback:function ($$v) {_vm.templateName=$$v},expression:\"templateName\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',[_c('el-cascader',{ref:\"catCascader\",attrs:{\"placeholder\":\"Template Category\",\"expand-trigger\":\"click\",\"options\":_vm.categoryCascader,\"props\":_vm.categoryProps,\"show-all-levels\":false},model:{value:(_vm.selectedParentCategory),callback:function ($$v) {_vm.selectedParentCategory=$$v},expression:\"selectedParentCategory\"}})],1)])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"explanation\"},[_c('code',[_vm._v(_vm._s(_vm.code))])]),_vm._v(\" \"),_c('div',[_c('tinymce',{attrs:{\"height\":200,\"templateName\":_vm.templateName,\"templateCategory\":_vm.selectedParentCategory},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"5aCZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"0On2\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2ca58c46_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"H0D9\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"jxOR\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ca58c46\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2ca58c46_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"5hYi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"fdrf\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"5d617810\", content, true);\n\n/***/ }),\n\n/***/ \"5szV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editorImage_vue__ = __webpack_require__(\"bau3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32bfa10c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editorImage_vue__ = __webpack_require__(\"dSU5\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"elis\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32bfa10c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editorImage_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_32bfa10c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editorImage_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"H0D9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\"},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-custom-btn-container\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.submitAll}},[_vm._v(\"Submit\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"T+B7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Tinymce__ = __webpack_require__(\"5aCZ\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'tinymce-demo',\n  components: { Tinymce: __WEBPACK_IMPORTED_MODULE_0__components_Tinymce__[\"a\" /* default */] },\n  data: function data() {\n    return {\n      ip: 'http://121.42.252.18:5000',\n      //      ip: 'http://192.168.0.15:5000',\n      //      ip: '',\n      categoryCascader: [],\n      selectedParentCategory: [],\n      categoryProps: {\n        value: 'id',\n        children: 'children',\n        label: 'name'\n      },\n      code: '文本 {{text}}  单选 {{radio}}  多选 {{checkbox}}  多行输入 {{textarea}}  下拉列表 {{select}}  图片 {{picture}}   例子如下',\n      templateName: '',\n      content: ['<!DOCTYPE html><html><head></head><body>', '<table style=\"border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;\" border=\"1\">', '<tbody>', '<tr style=\"height: 52px;\">', '<td style=\"width: 100%; height: 52px;\" colspan=\"6\">', '<p style=\"text-align: center;\">Applicant Information</p>', '</td>', '</tr>', '<tr style=\"height: 49px; text-align: center;\">', '<td style=\"width: 16.2702%; height: 49px;\">', '<p>Last Name</p>', '</td>', '<td style=\"width: 18.4731%; height: 49px;\">{{text}}</td>', '<td style=\"width: 15.2568%; height: 49px;\">', '<p>First Name</p>', '</td>', '<td style=\"width: 16.7288%; height: 49px;\">{{text}}</td>', '<td style=\"width: 16.6046%; height: 49px;\">', '<p>M.I.</p>', '</td>', '<td style=\"width: 16.6667%; height: 49px;\">{{text}}</td>', '</tr>', '<tr style=\"height: 78px; text-align: center;\">', '<td style=\"width: 16.2702%; height: 78px;\">', '<p>Street Address</p>', '</td>', '<td style=\"width: 50.4587%; height: 78px;\" colspan=\"3\">{{text}}</td>', '<td style=\"width: 16.6046%; height: 78px;\">', '<p>Apartment/Unit</p>', '</td>', '<td style=\"width: 16.6667%; height: 78px;\">{{select}}</td>', '</tr>', '<tr style=\"height: 48px; text-align: center;\">', '<td style=\"width: 16.2702%; height: 48px;\">', '<p>City</p>', '</td>', '<td style=\"width: 18.4731%; height: 48px;\">{{text}}</td>', '<td style=\"width: 15.2568%; height: 48px;\">', '<p>State</p>', '</td>', '<td style=\"width: 16.7288%; height: 48px;\">{{text}}</td>', '<td style=\"width: 16.6046%; height: 48px;\">', '<p>ZIP</p>', '</td>', '<td style=\"width: 16.6667%; height: 48px;\">{{text}}</td>', '</tr>', '</tbody>', '</table>', '</body></html>'].join(\"\")\n    };\n  },\n\n  methods: {\n    loadCategories: function loadCategories() {\n      var _this = this;\n\n      var self = this;\n      self.$axios({\n        method: 'get',\n        url: this.ip + '/admin/getAllCategory'\n        //        url: 'http://192.168.0.15:5000/admin/getAllCategory',\n        //        url: 'http://121.42.252.18:5000/admin/getAllCategory',\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          self.categoryCascader = res.data.treeData;\n          var tempTree = res.data.treeData;\n          _this.depthTraversal(tempTree[0]);\n\n          console.log(tempTree);\n          self.categoryCascader = tempTree;\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n\n    //深度遍历 删除children为[]的obj的children属性\n    depthTraversal: function depthTraversal(treeNode) {\n      if (treeNode.children.length !== 0) {\n        for (var i = 0; i < treeNode.children.length; ++i) {\n          this.depthTraversal(treeNode.children[i]);\n        }\n      } else if (treeNode.children.length === 0) {\n        delete treeNode.children;\n      }\n    }\n  },\n  mounted: function mounted() {\n    var self = this;\n    self.loadCategories();\n  }\n});\n\n/***/ }),\n\n/***/ \"Wb17\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".tinymce-container[data-v-2ca58c46]{position:relative}.tinymce-textarea[data-v-2ca58c46]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-2ca58c46]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-2ca58c46]{display:inline-block}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/index.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,iBAAkB,CACnB,AACD,mCACE,kBAAmB,AACnB,UAAY,CACb,AACD,8CACE,kBAAmB,AACnB,WAAY,AAEZ,QAAU,CACX,AACD,oCACE,oBAAsB,CACvB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.tinymce-container[data-v-2ca58c46] {\\n  position: relative\\n}\\n.tinymce-textarea[data-v-2ca58c46] {\\n  visibility: hidden;\\n  z-index: -1;\\n}\\n.editor-custom-btn-container[data-v-2ca58c46] {\\n  position: absolute;\\n  right: 15px;\\n  /*z-index: 2005;*/\\n  top: 18px;\\n}\\n.editor-upload-btn[data-v-2ca58c46] {\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"bau3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { getToken } from 'api/qiniu'\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'editorSlideUpload',\n  props: {\n    color: {\n      type: String,\n      default: '#20a0ff'\n    }\n  },\n  data: function data() {\n    return {\n      dialogVisible: false,\n      listObj: {},\n      fileList: []\n    };\n  },\n\n  methods: {\n    checkAllSuccess: function checkAllSuccess() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.listObj).every(function (item) {\n        return _this.listObj[item].hasSuccess;\n      });\n    },\n    handleSubmit: function handleSubmit() {\n      var _this2 = this;\n\n      var arr = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.listObj).map(function (v) {\n        return _this2.listObj[v];\n      });\n      if (!this.checkAllSuccess()) {\n        this.$message('Please wait for all images to upload successfully or network problems, please refresh the page to upload again!');\n        return;\n      }\n      console.log(arr);\n      this.$emit('successCBK', arr);\n      this.listObj = {};\n      this.fileList = [];\n      this.dialogVisible = false;\n    },\n    handleSuccess: function handleSuccess(response, file) {\n      var uid = file.uid;\n      var objKeyArr = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.listObj);\n      for (var i = 0, len = objKeyArr.length; i < len; i++) {\n        if (this.listObj[objKeyArr[i]].uid === uid) {\n          this.listObj[objKeyArr[i]].url = response.files.file;\n          this.listObj[objKeyArr[i]].hasSuccess = true;\n          return;\n        }\n      }\n    },\n    handleRemove: function handleRemove(file) {\n      var uid = file.uid;\n      var objKeyArr = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.listObj);\n      for (var i = 0, len = objKeyArr.length; i < len; i++) {\n        if (this.listObj[objKeyArr[i]].uid === uid) {\n          delete this.listObj[objKeyArr[i]];\n          return;\n        }\n      }\n    },\n    beforeUpload: function beforeUpload(file) {\n      var _self = this;\n      var _URL = window.URL || window.webkitURL;\n      var fileName = file.uid;\n      this.listObj[fileName] = {};\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        var img = new Image();\n        img.src = _URL.createObjectURL(file);\n        img.onload = function () {\n          _self.listObj[fileName] = { hasSuccess: false, uid: file.uid, width: this.width, height: this.height };\n        };\n        resolve(true);\n      });\n    },\n    submitAll: function submitAll() {\n      alert(1);\n      this.$emit('submitAll', '');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"dSU5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"upload\",\"type\":\"primary\"},on:{\"click\":function($event){ _vm.dialogVisible=true}}},[_vm._v(\"Upload Image\\n  \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"action\":\"https://httpbin.org/post\",\"multiple\":true,\"file-list\":_vm.fileList,\"show-file-list\":true,\"list-type\":\"picture-card\",\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"Select\")])],1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Confirm\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"elis\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"sIyH\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"2a5c9e9f\", content, true);\n\n/***/ }),\n\n/***/ \"fdrf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".editor-content[data-v-5241665a]{margin-top:20px}.explanation[data-v-5241665a]{background:#eef1f6;padding:15px 10px;margin-bottom:20px;display:block;line-height:36px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/views/Admin/templateManagement/createTemplate.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,eAAiB,CAClB,AACD,8BACE,mBAAoB,AACpB,kBAAmB,AACnB,mBAAoB,AACpB,cAAe,AACf,gBAAkB,CACnB\",\"file\":\"createTemplate.vue\",\"sourcesContent\":[\"\\n.editor-content[data-v-5241665a]{\\n  margin-top: 20px;\\n}\\n.explanation[data-v-5241665a] {\\n  background: #eef1f6;\\n  padding: 15px 10px;\\n  margin-bottom: 20px;\\n  display: block;\\n  line-height: 36px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"jxOR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"Wb17\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"71f29c23\", content, true);\n\n/***/ }),\n\n/***/ \"sIyH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".upload-container .editor-slide-upload[data-v-32bfa10c]{margin-bottom:20px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/components/editorImage.vue\"],\"names\":[],\"mappings\":\"AACA,wDACE,kBAAoB,CACrB\",\"file\":\"editorImage.vue\",\"sourcesContent\":[\"\\n.upload-container .editor-slide-upload[data-v-32bfa10c] {\\n  margin-bottom: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"w7T7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_createTemplate_vue__ = __webpack_require__(\"T+B7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5241665a_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_createTemplate_vue__ = __webpack_require__(\"29/5\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"5hYi\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5241665a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_createTemplate_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5241665a_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_createTemplate_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.5bc67a294f2de293dd95.js","<template>\n  <div class=\"tinymce-container editor-container\">\n    <textarea class=\"tinymce-textarea\" :id=\"tinymceId\"></textarea>\n    <div class=\"editor-custom-btn-container\">\n     <!--<editorImage  color=\"#20a0ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\"></editorImage>-->\n      <el-button type=\"success\" @click=\"submitAll\">Submit</el-button>\n      </div>\n  </div>\n</template>\n\n<script>\nimport editorImage from './components/editorImage'\n\nexport default {\n  name: 'tinymce',\n  components: {\n    editorImage },\n  props: {\n    templateName: {\n      type: String,\n      default: ''\n    },\n    templateCategory: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default () {\n//        return ['removeformat undo redo |  bullist numlist | outdent indent | forecolor | fullscreen code', 'bold italic blockquote | h2 p  media link | alignleft aligncenter alignright']\n        return ['formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat']\n      }\n    },\n    menubar: {\n      default: ''\n    },\n    height: {\n      type: Number,\n      required: false,\n      default: 360\n    }\n  },\n  data () {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id || 'vue-tinymce-' + +new Date()\n    }\n  },\n  watch: {\n    value (val) {\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(() => window.tinymce.get(this.tinymceId).setContent(val))\n      }\n    }\n  },\n  mounted () {\n    this.initTinymce()\n  },\n  activated () {\n    this.initTinymce()\n  },\n  deactivated () {\n    this.destroyTinymce()\n  },\n  methods: {\n    initTinymce () {\n      const _this = this\n      window.tinymce.init({\n//        selector: 'textarea',\n        selector: `#${this.tinymceId}`,\n        height: 500,\n        theme: 'modern',\n        plugins: 'print preview fullpage paste searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor wordcount imagetools media link contextmenu colorpicker textpattern help',\n        toolbar1: 'formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',\n        image_advtab: true,\n        templates: [\n          { title: 'Test template 1', content: 'Test 1' },\n          { title: 'Test template 2', content: 'Test 2' }\n        ],\n        init_instance_callback: editor => {\n          if (_this.value) {\n            editor.setContent(_this.value)\n          }\n          _this.hasInit = true\n          editor.on('NodeChange Change KeyUp', () => {\n            this.hasChange = true\n            this.$emit('input', editor.getContent({ format: 'raw' }))\n          })\n        }\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      })\n    },\n    destroyTinymce () {\n      if (window.tinymce.get(this.tinymceId)) {\n        window.tinymce.get(this.tinymceId).destroy()\n      }\n    },\n    setContent (value) {\n      window.tinymce.get(this.tinymceId).setContent(value)\n    },\n    getContent () {\n      window.tinymce.get(this.tinymceId).getContent()\n    },\n    imageSuccessCBK (arr) {\n      const _this = this\n      arr.forEach(v => {\n        window.tinymce.get(_this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`)\n      })\n    },\n    submitAll () {\n        // 提交创建好的模板\n      let self = this\n      if (self.templateName === '') {\n        this.$message({\n          message: 'Please Enter Template Name',\n          type: 'error',\n          duration: 2000\n        })\n        return\n      }\n      if (self.templateCategory.length === 0) {\n        this.$message({\n          message: 'Please Select Template Category',\n          type: 'error',\n          duration: 2000\n        })\n        return\n      }\n      self.$axios({\n//        url: `/admin/createTemplate`,\n//        url: `http://192.168.0.15:5000/admin/createTemplate`,\n        url: `http://121.42.252.18:5000/admin/createTemplate`,\n        method: 'post',\n        data: {\n          template_name: self.templateName,\n          template_category: self.templateCategory,\n          html: window.tinymce.get(this.tinymceId).getContent()\n        }\n      }).then((res) => {\n        if (res.data.result === 'success') {\n          self.historyTable = res.data.history\n          this.$message({\n            message: 'Submitted successfully!',\n            type: 'success',\n            duration: 2000\n          })\n//          console.log(self.historyTable)\n        } else if (res.data.result === 'failure') {\n          let errorMessage = res.data.errorMessage\n          this.$message({\n            message: errorMessage,\n            type: 'error',\n            duration: 2000\n          })\n        }\n      }).catch(function (error) {\n        console.log(error)\n      })\n//      console.log(window.tinymce.get(this.tinymceId).getContent())\n//      console.log(this.templateName)\n    }\n  },\n  destroyed () {\n    this.destroyTinymce()\n  }\n}\n</script>\n\n<style scoped>\n.tinymce-container {\n  position: relative\n}\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n.editor-custom-btn-container {\n  position: absolute;\n  right: 15px;\n  /*z-index: 2005;*/\n  top: 18px;\n}\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tinymce/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticStyle:{\"margin-bottom\":\"10px\",\"width\":\"100%\"},attrs:{\"placeholder\":\"Please Enter Template Name\",\"clearable\":\"\"},model:{value:(_vm.templateName),callback:function ($$v) {_vm.templateName=$$v},expression:\"templateName\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',[_c('el-cascader',{ref:\"catCascader\",attrs:{\"placeholder\":\"Template Category\",\"expand-trigger\":\"click\",\"options\":_vm.categoryCascader,\"props\":_vm.categoryProps,\"show-all-levels\":false},model:{value:(_vm.selectedParentCategory),callback:function ($$v) {_vm.selectedParentCategory=$$v},expression:\"selectedParentCategory\"}})],1)])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"explanation\"},[_c('code',[_vm._v(_vm._s(_vm.code))])]),_vm._v(\" \"),_c('div',[_c('tinymce',{attrs:{\"height\":200,\"templateName\":_vm.templateName,\"templateCategory\":_vm.selectedParentCategory},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5241665a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Admin/templateManagement/createTemplate.vue\n// module id = 29/5\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ca58c46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ca58c46\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ca58c46\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tinymce/index.vue\n// module id = 5aCZ\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5241665a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./createTemplate.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5d617810\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5241665a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Admin/templateManagement/createTemplate.vue\n// module id = 5hYi\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32bfa10c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editorImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32bfa10c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editorImage.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32bfa10c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tinymce/components/editorImage.vue\n// module id = 5szV\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\"},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-custom-btn-container\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.submitAll}},[_vm._v(\"Submit\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ca58c46\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tinymce/index.vue\n// module id = H0D9\n// module chunks = 0","<template>\n  <div class=\"app-container\">\n    <el-row type=\"flex\" :gutter=\"20\">\n      <el-col :span=\"6\">\n        <el-input\n          placeholder=\"Please Enter Template Name\"\n          v-model=\"templateName\"\n          clearable\n          style=\"margin-bottom: 10px;width: 100%\">\n        </el-input>\n      </el-col>\n      <el-col :span=\"8\">\n        <div>\n          <el-cascader placeholder=\"Template Category\" expand-trigger=\"click\" :options=\"categoryCascader\" v-model=\"selectedParentCategory\"\n                       :props=\"categoryProps\" ref=\"catCascader\" :show-all-levels=\"false\"></el-cascader>\n          <!--<el-button type=\"plain\" @click=\"updateCategoryParent\"><i class=\"fa fa-check no-margin\" aria-hidden=\"true\"></i> Apply-->\n          <!--</el-button>-->\n        </div>\n      </el-col>\n    </el-row>\n\n\n\n    <el-row class=\"explanation\">\n      <code>{{code}}</code>\n    </el-row>\n    <div>\n      <tinymce :height=\"200\" v-model=\"content\" :templateName=\"templateName\" :templateCategory=\"selectedParentCategory\"></tinymce>\n    </div>\n    <!--<div class=\"editor-content\" v-html=\"content\"></div>-->\n  </div>\n</template>\n\n<script>\nimport Tinymce from '@/components/Tinymce'\n\nexport default {\n  name: 'tinymce-demo',\n  components: { Tinymce },\n  data() {\n    return {\n      ip: 'http://121.42.252.18:5000',\n//      ip: 'http://192.168.0.15:5000',\n//      ip: '',\n      categoryCascader: [],\n      selectedParentCategory: [],\n      categoryProps: {\n        value: 'id',\n        children: 'children',\n        label: 'name'\n      },\n      code: '文本 {{text}}  单选 {{radio}}  多选 {{checkbox}}  多行输入 {{textarea}}  下拉列表 {{select}}  图片 {{picture}}   例子如下',\n      templateName: '',\n      content: ['<!DOCTYPE html><html><head></head><body>',\n        '<table style=\"border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;\" border=\"1\">',\n        '<tbody>',\n        '<tr style=\"height: 52px;\">',\n        '<td style=\"width: 100%; height: 52px;\" colspan=\"6\">',\n        '<p style=\"text-align: center;\">Applicant Information</p>',\n        '</td>',\n        '</tr>',\n        '<tr style=\"height: 49px; text-align: center;\">',\n        '<td style=\"width: 16.2702%; height: 49px;\">',\n        '<p>Last Name</p>',\n        '</td>',\n        '<td style=\"width: 18.4731%; height: 49px;\">{{text}}</td>',\n        '<td style=\"width: 15.2568%; height: 49px;\">',\n        '<p>First Name</p>',\n        '</td>',\n        '<td style=\"width: 16.7288%; height: 49px;\">{{text}}</td>',\n        '<td style=\"width: 16.6046%; height: 49px;\">',\n        '<p>M.I.</p>',\n        '</td>',\n        '<td style=\"width: 16.6667%; height: 49px;\">{{text}}</td>',\n        '</tr>',\n        '<tr style=\"height: 78px; text-align: center;\">',\n        '<td style=\"width: 16.2702%; height: 78px;\">',\n        '<p>Street Address</p>',\n        '</td>',\n        '<td style=\"width: 50.4587%; height: 78px;\" colspan=\"3\">{{text}}</td>',\n        '<td style=\"width: 16.6046%; height: 78px;\">',\n        '<p>Apartment/Unit</p>',\n        '</td>',\n        '<td style=\"width: 16.6667%; height: 78px;\">{{select}}</td>',\n        '</tr>',\n        '<tr style=\"height: 48px; text-align: center;\">',\n        '<td style=\"width: 16.2702%; height: 48px;\">',\n        '<p>City</p>',\n        '</td>',\n        '<td style=\"width: 18.4731%; height: 48px;\">{{text}}</td>',\n        '<td style=\"width: 15.2568%; height: 48px;\">',\n        '<p>State</p>',\n        '</td>',\n        '<td style=\"width: 16.7288%; height: 48px;\">{{text}}</td>',\n        '<td style=\"width: 16.6046%; height: 48px;\">',\n        '<p>ZIP</p>',\n        '</td>',\n        '<td style=\"width: 16.6667%; height: 48px;\">{{text}}</td>',\n        '</tr>',\n        '</tbody>',\n        '</table>',\n        '</body></html>'].join(\"\")\n    }\n  },\n  methods: {\n    loadCategories() {\n      let self = this;\n      self.$axios({\n        method: 'get',\n        url: this.ip + '/admin/getAllCategory',\n//        url: 'http://192.168.0.15:5000/admin/getAllCategory',\n//        url: 'http://121.42.252.18:5000/admin/getAllCategory',\n      }).then(res => {\n        if (res.data.result === 'success') {\n          self.categoryCascader = res.data.treeData;\n          let tempTree = res.data.treeData;\n          this.depthTraversal(tempTree[0])\n\n          console.log(tempTree)\n          self.categoryCascader = tempTree;\n        }\n      }).catch(response => {\n        let body = response.data;\n        let error = body.error;\n        let errorMessage = body.errorMessage;\n        this.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    //深度遍历 删除children为[]的obj的children属性\n    depthTraversal(treeNode) {\n      if (treeNode.children.length !== 0) {\n        for (let i = 0; i < treeNode.children.length; ++i) {\n          this.depthTraversal(treeNode.children[i])\n        }\n      }else if (treeNode.children.length === 0) {\n        delete treeNode.children\n      }\n\n    }\n  },\n  mounted: function () {\n    let self = this;\n    self.loadCategories();\n  }\n}\n</script>\n\n<style scoped>\n.editor-content{\n  margin-top: 20px;\n}\n.explanation {\n  background: #eef1f6;\n  padding: 15px 10px;\n  margin-bottom: 20px;\n  display: block;\n  line-height: 36px;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Admin/templateManagement/createTemplate.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".tinymce-container[data-v-2ca58c46]{position:relative}.tinymce-textarea[data-v-2ca58c46]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-2ca58c46]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-2ca58c46]{display:inline-block}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/index.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,iBAAkB,CACnB,AACD,mCACE,kBAAmB,AACnB,UAAY,CACb,AACD,8CACE,kBAAmB,AACnB,WAAY,AAEZ,QAAU,CACX,AACD,oCACE,oBAAsB,CACvB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.tinymce-container[data-v-2ca58c46] {\\n  position: relative\\n}\\n.tinymce-textarea[data-v-2ca58c46] {\\n  visibility: hidden;\\n  z-index: -1;\\n}\\n.editor-custom-btn-container[data-v-2ca58c46] {\\n  position: absolute;\\n  right: 15px;\\n  /*z-index: 2005;*/\\n  top: 18px;\\n}\\n.editor-upload-btn[data-v-2ca58c46] {\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2ca58c46\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Tinymce/index.vue\n// module id = Wb17\n// module chunks = 0","<template>\r\n  <div class=\"upload-container\">\r\n    <el-button icon='upload' :style=\"{background:color,borderColor:color}\" @click=\" dialogVisible=true\" type=\"primary\">Upload Image\r\n    </el-button>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <el-upload class=\"editor-slide-upload\" action=\"https://httpbin.org/post\" :multiple=\"true\" :file-list=\"fileList\" :show-file-list=\"true\"\r\n        list-type=\"picture-card\" :on-remove=\"handleRemove\" :on-success=\"handleSuccess\" :before-upload=\"beforeUpload\">\r\n        <el-button size=\"small\" type=\"primary\">Select</el-button>\r\n      </el-upload>\r\n      <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSubmit\">Confirm</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { getToken } from 'api/qiniu'\r\n\r\nexport default {\r\n  name: 'editorSlideUpload',\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: '#20a0ff'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dialogVisible: false,\r\n      listObj: {},\r\n      fileList: []\r\n    }\r\n  },\r\n  methods: {\r\n    checkAllSuccess () {\r\n      return Object.keys(this.listObj).every(item => this.listObj[item].hasSuccess)\r\n    },\r\n    handleSubmit () {\r\n      const arr = Object.keys(this.listObj).map(v => this.listObj[v])\r\n      if (!this.checkAllSuccess()) {\r\n        this.$message('Please wait for all images to upload successfully or network problems, please refresh the page to upload again!')\r\n        return\r\n      }\r\n      console.log(arr)\r\n      this.$emit('successCBK', arr)\r\n      this.listObj = {}\r\n      this.fileList = []\r\n      this.dialogVisible = false\r\n    },\r\n    handleSuccess (response, file) {\r\n      const uid = file.uid\r\n      const objKeyArr = Object.keys(this.listObj)\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          this.listObj[objKeyArr[i]].url = response.files.file\r\n          this.listObj[objKeyArr[i]].hasSuccess = true\r\n          return\r\n        }\r\n      }\r\n    },\r\n    handleRemove (file) {\r\n      const uid = file.uid\r\n      const objKeyArr = Object.keys(this.listObj)\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          delete this.listObj[objKeyArr[i]]\r\n          return\r\n        }\r\n      }\r\n    },\r\n    beforeUpload (file) {\r\n      const _self = this\r\n      const _URL = window.URL || window.webkitURL\r\n      const fileName = file.uid\r\n      this.listObj[fileName] = {}\r\n      return new Promise((resolve, reject) => {\r\n        const img = new Image()\r\n        img.src = _URL.createObjectURL(file)\r\n        img.onload = function () {\r\n          _self.listObj[fileName] = { hasSuccess: false, uid: file.uid, width: this.width, height: this.height }\r\n        }\r\n        resolve(true)\r\n      })\r\n    },\r\n    submitAll () {\r\n      alert(1)\r\n      this.$emit('submitAll', '')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n    .upload-container {\r\n        .editor-slide-upload {\r\n            margin-bottom: 20px;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tinymce/components/editorImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"upload\",\"type\":\"primary\"},on:{\"click\":function($event){ _vm.dialogVisible=true}}},[_vm._v(\"Upload Image\\n  \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"action\":\"https://httpbin.org/post\",\"multiple\":true,\"file-list\":_vm.fileList,\"show-file-list\":true,\"list-type\":\"picture-card\",\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"Select\")])],1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Confirm\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32bfa10c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tinymce/components/editorImage.vue\n// module id = dSU5\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32bfa10c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./editorImage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2a5c9e9f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-32bfa10c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Tinymce/components/editorImage.vue\n// module id = elis\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".editor-content[data-v-5241665a]{margin-top:20px}.explanation[data-v-5241665a]{background:#eef1f6;padding:15px 10px;margin-bottom:20px;display:block;line-height:36px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/views/Admin/templateManagement/createTemplate.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,eAAiB,CAClB,AACD,8BACE,mBAAoB,AACpB,kBAAmB,AACnB,mBAAoB,AACpB,cAAe,AACf,gBAAkB,CACnB\",\"file\":\"createTemplate.vue\",\"sourcesContent\":[\"\\n.editor-content[data-v-5241665a]{\\n  margin-top: 20px;\\n}\\n.explanation[data-v-5241665a] {\\n  background: #eef1f6;\\n  padding: 15px 10px;\\n  margin-bottom: 20px;\\n  display: block;\\n  line-height: 36px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5241665a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Admin/templateManagement/createTemplate.vue\n// module id = fdrf\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ca58c46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"71f29c23\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2ca58c46\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Tinymce/index.vue\n// module id = jxOR\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".upload-container .editor-slide-upload[data-v-32bfa10c]{margin-bottom:20px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/components/editorImage.vue\"],\"names\":[],\"mappings\":\"AACA,wDACE,kBAAoB,CACrB\",\"file\":\"editorImage.vue\",\"sourcesContent\":[\"\\n.upload-container .editor-slide-upload[data-v-32bfa10c] {\\n  margin-bottom: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-32bfa10c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Tinymce/components/editorImage.vue\n// module id = sIyH\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5241665a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createTemplate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createTemplate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5241665a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createTemplate.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5241665a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Admin/templateManagement/createTemplate.vue\n// module id = w7T7\n// module chunks = 0"],"sourceRoot":""}