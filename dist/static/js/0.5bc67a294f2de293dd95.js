webpackJsonp([0],{"0On2":function(t,e,i){"use strict";var a=i("5szV");e.a={name:"tinymce",components:{editorImage:a.a},props:{templateName:{type:String,default:""},templateCategory:{type:Array,default:[]},id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return["formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat"]}},menubar:{default:""},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id||"vue-tinymce-"+ +new Date}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t)})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#"+this.tinymceId,height:500,theme:"modern",plugins:"print preview fullpage paste searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor wordcount imagetools media link contextmenu colorpicker textpattern help",toolbar1:"formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat",image_advtab:!0,templates:[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp",function(){t.hasChange=!0,t.$emit("input",i.getContent({format:"raw"}))})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})},submitAll:function(){var t=this,e=this;return""===e.templateName?void this.$message({message:"Please Enter Template Name",type:"error",duration:2e3}):0===e.templateCategory.length?void this.$message({message:"Please Select Template Category",type:"error",duration:2e3}):void e.$axios({url:"http://121.42.252.18:5000/admin/createTemplate",method:"post",data:{template_name:e.templateName,template_category:e.templateCategory,html:window.tinymce.get(this.tinymceId).getContent()}}).then(function(i){if("success"===i.data.result)e.historyTable=i.data.history,t.$message({message:"Submitted successfully!",type:"success",duration:2e3});else if("failure"===i.data.result){var a=i.data.errorMessage;t.$message({message:a,type:"error",duration:2e3})}}).catch(function(t){console.log(t)})}},destroyed:function(){this.destroyTinymce()}}},"29/5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{type:"flex",gutter:20}},[i("el-col",{attrs:{span:6}},[i("el-input",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{placeholder:"Please Enter Template Name",clearable:""},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",[i("el-cascader",{ref:"catCascader",attrs:{placeholder:"Template Category","expand-trigger":"click",options:t.categoryCascader,props:t.categoryProps,"show-all-levels":!1},model:{value:t.selectedParentCategory,callback:function(e){t.selectedParentCategory=e},expression:"selectedParentCategory"}})],1)])],1),t._v(" "),i("el-row",{staticClass:"explanation"},[i("code",[t._v(t._s(t.code))])]),t._v(" "),i("div",[i("tinymce",{attrs:{height:200,templateName:t.templateName,templateCategory:t.selectedParentCategory},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)},n=[],s={render:a,staticRenderFns:n};e.a=s},"5aCZ":function(t,e,i){"use strict";function a(t){i("jxOR")}var n=i("0On2"),s=i("H0D9"),o=i("VU/8"),r=a,l=o(n.a,s.a,!1,r,"data-v-2ca58c46",null);e.a=l.exports},"5hYi":function(t,e,i){var a=i("fdrf");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("5d617810",a,!0)},"5szV":function(t,e,i){"use strict";function a(t){i("elis")}var n=i("bau3"),s=i("dSU5"),o=i("VU/8"),r=a,l=o(n.a,s.a,!1,r,"data-v-32bfa10c",null);e.a=l.exports},H0D9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tinymce-container editor-container"},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("el-button",{attrs:{type:"success"},on:{click:t.submitAll}},[t._v("Submit")])],1)])},n=[],s={render:a,staticRenderFns:n};e.a=s},"T+B7":function(t,e,i){"use strict";var a=i("5aCZ");e.a={name:"tinymce-demo",components:{Tinymce:a.a},data:function(){return{ip:"http://121.42.252.18:5000",categoryCascader:[],selectedParentCategory:[],categoryProps:{value:"id",children:"children",label:"name"},code:"文本 {{text}}  单选 {{radio}}  多选 {{checkbox}}  多行输入 {{textarea}}  下拉列表 {{select}}  图片 {{picture}}   例子如下",templateName:"",content:["<!DOCTYPE html><html><head></head><body>",'<table style="border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;" border="1">',"<tbody>",'<tr style="height: 52px;">','<td style="width: 100%; height: 52px;" colspan="6">','<p style="text-align: center;">Applicant Information</p>',"</td>","</tr>",'<tr style="height: 49px; text-align: center;">','<td style="width: 16.2702%; height: 49px;">',"<p>Last Name</p>","</td>",'<td style="width: 18.4731%; height: 49px;">{{text}}</td>','<td style="width: 15.2568%; height: 49px;">',"<p>First Name</p>","</td>",'<td style="width: 16.7288%; height: 49px;">{{text}}</td>','<td style="width: 16.6046%; height: 49px;">',"<p>M.I.</p>","</td>",'<td style="width: 16.6667%; height: 49px;">{{text}}</td>',"</tr>",'<tr style="height: 78px; text-align: center;">','<td style="width: 16.2702%; height: 78px;">',"<p>Street Address</p>","</td>",'<td style="width: 50.4587%; height: 78px;" colspan="3">{{text}}</td>','<td style="width: 16.6046%; height: 78px;">',"<p>Apartment/Unit</p>","</td>",'<td style="width: 16.6667%; height: 78px;">{{select}}</td>',"</tr>",'<tr style="height: 48px; text-align: center;">','<td style="width: 16.2702%; height: 48px;">',"<p>City</p>","</td>",'<td style="width: 18.4731%; height: 48px;">{{text}}</td>','<td style="width: 15.2568%; height: 48px;">',"<p>State</p>","</td>",'<td style="width: 16.7288%; height: 48px;">{{text}}</td>','<td style="width: 16.6046%; height: 48px;">',"<p>ZIP</p>","</td>",'<td style="width: 16.6667%; height: 48px;">{{text}}</td>',"</tr>","</tbody>","</table>","</body></html>"].join("")}},methods:{loadCategories:function(){var t=this,e=this;e.$axios({method:"get",url:this.ip+"/admin/getAllCategory"}).then(function(i){if("success"===i.data.result){e.categoryCascader=i.data.treeData;var a=i.data.treeData;t.depthTraversal(a[0]),console.log(a),e.categoryCascader=a}}).catch(function(e){var i=e.data,a=(i.error,i.errorMessage);t.$message({message:a,type:"error"})})},depthTraversal:function(t){if(0!==t.children.length)for(var e=0;e<t.children.length;++e)this.depthTraversal(t.children[e]);else 0===t.children.length&&delete t.children}},mounted:function(){this.loadCategories()}}},Wb17:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".tinymce-container[data-v-2ca58c46]{position:relative}.tinymce-textarea[data-v-2ca58c46]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-2ca58c46]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-2ca58c46]{display:inline-block}","",{version:3,sources:["C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/index.vue"],names:[],mappings:"AACA,oCACE,iBAAkB,CACnB,AACD,mCACE,kBAAmB,AACnB,UAAY,CACb,AACD,8CACE,kBAAmB,AACnB,WAAY,AAEZ,QAAU,CACX,AACD,oCACE,oBAAsB,CACvB",file:"index.vue",sourcesContent:["\n.tinymce-container[data-v-2ca58c46] {\n  position: relative\n}\n.tinymce-textarea[data-v-2ca58c46] {\n  visibility: hidden;\n  z-index: -1;\n}\n.editor-custom-btn-container[data-v-2ca58c46] {\n  position: absolute;\n  right: 15px;\n  /*z-index: 2005;*/\n  top: 18px;\n}\n.editor-upload-btn[data-v-2ca58c46] {\n  display: inline-block;\n}\n"],sourceRoot:""}])},bau3:function(t,e,i){"use strict";var a=i("//Fk"),n=i.n(a),s=i("fZjL"),o=i.n(s);e.a={name:"editorSlideUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return o()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=o()(this.listObj).map(function(e){return t.listObj[e]});if(!this.checkAllSuccess())return void this.$message("Please wait for all images to upload successfully or network problems, please refresh the page to upload again!");console.log(e),this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1},handleSuccess:function(t,e){for(var i=e.uid,a=o()(this.listObj),n=0,s=a.length;n<s;n++)if(this.listObj[a[n]].uid===i)return this.listObj[a[n]].url=t.files.file,void(this.listObj[a[n]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=o()(this.listObj),a=0,n=i.length;a<n;a++)if(this.listObj[i[a]].uid===e)return void delete this.listObj[i[a]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,a=t.uid;return this.listObj[a]={},new n.a(function(n,s){var o=new Image;o.src=i.createObjectURL(t),o.onload=function(){e.listObj[a]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},n(!0)})},submitAll:function(){alert(1),this.$emit("submitAll","")}}}},dSU5:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"upload",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("Upload Image\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://httpbin.org/post",multiple:!0,"file-list":t.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Select")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("Confirm")])],1)],1)},n=[],s={render:a,staticRenderFns:n};e.a=s},elis:function(t,e,i){var a=i("sIyH");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("2a5c9e9f",a,!0)},fdrf:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".editor-content[data-v-5241665a]{margin-top:20px}.explanation[data-v-5241665a]{background:#eef1f6;padding:15px 10px;margin-bottom:20px;display:block;line-height:36px}","",{version:3,sources:["C:/Users/zwh/IdeaProjects/my-project/src/views/Admin/templateManagement/createTemplate.vue"],names:[],mappings:"AACA,iCACE,eAAiB,CAClB,AACD,8BACE,mBAAoB,AACpB,kBAAmB,AACnB,mBAAoB,AACpB,cAAe,AACf,gBAAkB,CACnB",file:"createTemplate.vue",sourcesContent:["\n.editor-content[data-v-5241665a]{\n  margin-top: 20px;\n}\n.explanation[data-v-5241665a] {\n  background: #eef1f6;\n  padding: 15px 10px;\n  margin-bottom: 20px;\n  display: block;\n  line-height: 36px;\n}\n"],sourceRoot:""}])},jxOR:function(t,e,i){var a=i("Wb17");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("71f29c23",a,!0)},sIyH:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".upload-container .editor-slide-upload[data-v-32bfa10c]{margin-bottom:20px}","",{version:3,sources:["C:/Users/zwh/IdeaProjects/my-project/src/components/Tinymce/components/editorImage.vue"],names:[],mappings:"AACA,wDACE,kBAAoB,CACrB",file:"editorImage.vue",sourcesContent:["\n.upload-container .editor-slide-upload[data-v-32bfa10c] {\n  margin-bottom: 20px;\n}\n"],sourceRoot:""}])},w7T7:function(t,e,i){"use strict";function a(t){i("5hYi")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("T+B7"),s=i("29/5"),o=i("VU/8"),r=a,l=o(n.a,s.a,!1,r,"data-v-5241665a",null);e.default=l.exports}});
//# sourceMappingURL=0.5bc67a294f2de293dd95.js.map