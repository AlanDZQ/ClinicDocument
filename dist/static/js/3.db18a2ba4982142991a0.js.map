{"version":3,"sources":["webpack:///static/js/3.db18a2ba4982142991a0.js","webpack:///./src/views/Admin/templateManagement/editCategory.vue?2a4e","webpack:///./src/views/Admin/templateManagement/editCategory.vue?0f4a","webpack:///./src/views/Admin/templateManagement/editCategory.vue","webpack:///./src/views/Admin/templateManagement/editCategory.vue?9326","webpack:///src/views/Admin/templateManagement/editCategory.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["webpackJsonp","24ch","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","2x2i","content","locals","6OYX","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editCategory_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d97caeb6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editCategory_vue__","normalizeComponent","__vue_styles__","Component","BD1O","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gutter","type","style","min-width","span","on","click","createCategory","aria-hidden","_v","placeholder","suffix-icon","model","callback","$$v","filterKeyword","expression","ref","data","categoryTree","props","categoryProps","filter-node-method","categoryFilter","highlight-current","node-key","expand-on-click-node","node-click","onTreeItemClicked","directives","name","rawName","selectedCategoryName","_s","selectedCategory","placement","width","deleteCatPopoverVisible","staticStyle","margin","text-align","size","$event","deleteCategory","arg","float","slot","updateCategoryName","expand-trigger","options","categoryCascader","change-on-select","show-all-levels","selectedParentCategory","updateCategoryParent","staticRenderFns","esExports","eHDt","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","ip","children","label","propertyData","selectedProperty","watch","val","$refs","catTree","filter","refreshParentCategory","methods","loadCategories","_this","self","$axios","method","url","then","res","result","tempTree","treeData","catch","response","body","errorMessage","error","$message","message","toLowerCase","search","refreshCategoryCascader","catList","target","disableAll","_this2","every","cat","disabled","id","selectedItem","console","log","getCategoryPath","path","_this3","tempPath","concat","length","getCategory","_this4","undefined","_this5","category","_this6","_this7","catCascader","superCategoryId","newCat","JSON","parse","performCategoryDelete","parent","p","t","child","index","indexOf","splice","_this8","createProp","_this9","property","updatePropName","prop","_this10","deleteProp","_this11","deleteProps","_this12","onPropSelectionChange","selection","handleAvatarSuccess","URL","createObjectURL","raw","computed","mounted","mvHQ","default","__esModule","qkKv","core","$JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/3.db18a2ba4982142991a0.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"24ch\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".plyt-catman-cattree[data-v-d97caeb6]{border:0}.plyt-catman-carditem[data-v-d97caeb6]{margin-bottom:16px}.plyt-catman-btn-fill[data-v-d97caeb6]{width:100%}.plyt-catman-cardbutton[data-v-d97caeb6]{-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);height:44px}.plyt-catman-search[data-v-d97caeb6]{height:44px}.plyt-catman-search input[data-v-d97caeb6]{height:44px;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04)}.plyt-catman-cattitle[data-v-d97caeb6]{margin-bottom:24px}.el-button-group[data-v-d97caeb6]{margin-bottom:12px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/views/Admin/templateManagement/editCategory.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,QAAQ,CACT,AACD,uCACE,kBAAkB,CACnB,AACD,uCACE,UAAW,CACZ,AACD,yCACE,yEAAiF,AACzE,iEAAyE,AACjF,WAAY,CACb,AACD,qCACE,WAAa,CACd,AACD,2CACE,YAAa,AACb,yEAAiF,AACzE,gEAAwE,CACjF,AACD,uCACE,kBAAmB,CACpB,AACD,kCACE,kBAAmB,CACpB\",\"file\":\"editCategory.vue\",\"sourcesContent\":[\"\\n.plyt-catman-cattree[data-v-d97caeb6] {\\n  border:0\\n}\\n.plyt-catman-carditem[data-v-d97caeb6]{\\n  margin-bottom:16px\\n}\\n.plyt-catman-btn-fill[data-v-d97caeb6]{\\n  width: 100%\\n}\\n.plyt-catman-cardbutton[data-v-d97caeb6]{\\n  -webkit-box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n  height: 44px\\n}\\n.plyt-catman-search[data-v-d97caeb6]{\\n  height: 44px;\\n}\\n.plyt-catman-search input[data-v-d97caeb6]{\\n  height: 44px;\\n  -webkit-box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04)\\n}\\n.plyt-catman-cattitle[data-v-d97caeb6]{\\n  margin-bottom: 24px\\n}\\n.el-button-group[data-v-d97caeb6]{\\n  margin-bottom: 12px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"2x2i\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"24ch\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"2b553dab\", content, true);\n\n/***/ }),\n\n/***/ \"6OYX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editCategory_vue__ = __webpack_require__(\"eHDt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d97caeb6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editCategory_vue__ = __webpack_require__(\"BD1O\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"2x2i\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d97caeb6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_editCategory_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d97caeb6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_editCategory_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"BD1O\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{attrs:{\"gutter\":24,\"type\":\"flex\"}},[_c('el-col',{style:({'min-width':' 240px'}),attrs:{\"span\":6}},[_c('el-button',{staticClass:\"plyt-catman-carditem plyt-catman-cardbutton plyt-catman-btn-fill\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.createCategory}},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Create a new category\\n      \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"plyt-catman-carditem plyt-catman-search\",attrs:{\"placeholder\":\"Search category...\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.filterKeyword),callback:function ($$v) {_vm.filterKeyword=$$v},expression:\"filterKeyword\"}}),_vm._v(\" \"),_c('el-card',[_c('el-tree',{ref:\"catTree\",staticClass:\"plyt-catman-cattree\",attrs:{\"data\":_vm.categoryTree,\"props\":_vm.categoryProps,\"filter-node-method\":_vm.categoryFilter,\"highlight-current\":\"\",\"node-key\":\"value\",\"expand-on-click-node\":false},on:{\"node-click\":_vm.onTreeItemClicked}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedCategoryName.length),expression:\"selectedCategoryName.length\"}]},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('h2',{staticClass:\"plyt-catman-cattitle\"},[_vm._v(_vm._s(_vm.selectedCategory.name))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-popover',{ref:\"deleteCatPopover\",attrs:{\"placement\":\"bottom\",\"width\":\"160\"},model:{value:(_vm.deleteCatPopoverVisible),callback:function ($$v) {_vm.deleteCatPopoverVisible=$$v},expression:\"deleteCatPopoverVisible\"}},[_c('p',{staticStyle:{\"margin\":\"8px\"}},[_vm._v(\"Are you sure?\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){_vm.deleteCategory();_vm.deleteCatPopoverVisible = false}}},[_vm._v(\"Yes\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteCatPopoverVisible = false}}},[_vm._v(\"No\")])],1)]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:deleteCatPopover\",arg:\"deleteCatPopover\"}],staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"danger\"}},[_c('i',{staticClass:\"fa fa-trash-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Delete Category\\n            \")])],1)],1),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(\"Category Name\")]),_vm._v(\" \"),_c('div',[_c('el-input',{model:{value:(_vm.selectedCategoryName),callback:function ($$v) {_vm.selectedCategoryName=$$v},expression:\"selectedCategoryName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"plain\"},on:{\"click\":_vm.updateCategoryName},slot:\"append\"},[_c('i',{staticClass:\"el-icon-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Apply\\n            \")])],1)],1),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(\"Parent Category\")]),_vm._v(\" \"),_c('div',[_c('el-cascader',{ref:\"catCascader\",attrs:{\"expand-trigger\":\"click\",\"options\":_vm.categoryCascader,\"props\":_vm.categoryProps,\"change-on-select\":true,\"show-all-levels\":false},model:{value:(_vm.selectedParentCategory),callback:function ($$v) {_vm.selectedParentCategory=$$v},expression:\"selectedParentCategory\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.updateCategoryParent}},[_c('i',{staticClass:\"el-icon-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Apply\\n          \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"eHDt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'template',\n  data: function data() {\n    return {\n      ip: 'http://121.42.252.18:5000',\n      //        ip: 'http://192.168.0.15:5000',\n      //        ip: '',\n      deleteCatPopoverVisible: false,\n      filterKeyword: '',\n      categoryCascader: [],\n      categoryTree: [],\n      categoryProps: {\n        value: 'id',\n        children: 'children',\n        label: 'name'\n      },\n      propertyData: [],\n      selectedProperty: [],\n      selectedCategory: {},\n      selectedCategoryName: '',\n      selectedParentCategory: []\n    };\n  },\n\n  watch: {\n    filterKeyword: function filterKeyword(val) {\n      this.$refs.catTree.filter(val);\n    },\n    selectedCategory: function selectedCategory() {\n      this.refreshParentCategory();\n    }\n  },\n  methods: {\n    loadCategories: function loadCategories() {\n      var _this = this;\n\n      var self = this;\n      self.$axios({\n        method: 'get',\n        url: this.ip + '/admin/getAllCategory'\n        //          url: 'http://121.42.252.18:5000/admin/getAllCategory',\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          var tempTree = res.data.treeData;\n          self.categoryCascader = tempTree;\n          self.categoryTree = tempTree[0].children;\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    categoryFilter: function categoryFilter(value, data) {\n      if (!value) return true;\n      return data.name.toLowerCase().search(value.toLowerCase()) !== -1;\n    },\n\n\n    // 当前选择的节点可移动到除了原先位置之外的任意位置\n    refreshCategoryCascader: function refreshCategoryCascader(catList, target, disableAll) {\n      var _this2 = this;\n\n      if (catList === null) {\n        return;\n      }\n      catList.every(function (cat) {\n        if (disableAll) {\n          cat.disabled = true;\n          if ('children' in cat) {\n            _this2.refreshCategoryCascader(cat.children, target, true);\n          }\n          return true;\n        }\n\n        cat.disabled = false;\n        if (cat.id === target) {\n          cat.disabled = true;\n          if ('children' in cat) {\n            _this2.refreshCategoryCascader(cat.children, target, true);\n          }\n        } else {\n          if ('children' in cat) {\n            _this2.refreshCategoryCascader(cat.children, target, false);\n          }\n        }\n        return true;\n      });\n    },\n    onTreeItemClicked: function onTreeItemClicked(selectedItem) {\n      console.log(selectedItem);\n      this.selectedCategory = selectedItem;\n      this.selectedCategoryName = selectedItem.name;\n      //        alert(this.selectedCategory.id)\n      this.refreshCategoryCascader(this.categoryCascader, this.selectedCategory.id, false);\n    },\n    getCategoryPath: function getCategoryPath(catList, target, path) {\n      var _this3 = this;\n\n      var result = [];\n      if (catList !== null) {\n        catList.every(function (cat) {\n          var tempPath = [];\n          if (cat.id === target) {\n            result = path;\n            return false;\n          } else {\n            if ('children' in cat) {\n              tempPath.push(cat.id);\n              result = _this3.getCategoryPath(cat.children, target, path.concat(tempPath));\n              return result.length === 0;\n            }\n            return true;\n          }\n        });\n      }\n      return result;\n    },\n    getCategory: function getCategory(catList, target) {\n      var _this4 = this;\n\n      var result = {};\n      catList.every(function (cat) {\n        if (cat.id === target) {\n          result = cat;\n          return false;\n        } else {\n          if ('children' in cat) {\n            result = _this4.getCategory(cat.children, target);\n            return result.id === undefined;\n          }\n          return true;\n        }\n      });\n      return result;\n    },\n    refreshParentCategory: function refreshParentCategory() {\n      var result = this.getCategoryPath(this.categoryCascader, this.selectedCategory.id, []);\n      this.selectedParentCategory = result;\n    },\n    createCategory: function createCategory() {\n      var _this5 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'post',\n        url: this.ip + '/admin/category'\n        //          url: 'http://121.42.252.18:5000/admin/category'\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          _this5.$message({\n            message: 'Successfully created new category',\n            type: 'success'\n          });\n          var result = res.data.category;\n          _this5.categoryTree.push(result);\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var errorMessage = body.errorMessage;\n        _this5.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    updateCategoryName: function updateCategoryName() {\n      var _this6 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'patch',\n        url: this.ip + ('/admin/category/changeName/' + self.selectedCategory.id),\n        //          url: `http://121.42.252.18:5000/admin/category/changeName/${self.selectedCategory.id}`,\n        data: {\n          name: self.selectedCategoryName\n        }\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          // 成功时\n          self.selectedCategory.name = self.selectedCategoryName;\n          _this6.$message({\n            message: 'Successfully changed category name',\n            type: 'success'\n          });\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this6.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    updateCategoryParent: function updateCategoryParent() {\n      var _this7 = this;\n\n      var self = this;\n      var path = self.$refs.catCascader.value;\n      var superCategoryId = path[path.length - 1];\n      self.$axios({\n        method: 'patch',\n        url: this.ip + ('/admin/category/changeParent/' + self.selectedCategory.id),\n        //          url: `http://121.42.252.18:5000/admin/category/changeParent/${self.selectedCategory.id}`,\n        data: {\n          superCategoryId: superCategoryId\n        }\n      }).then(function (res) {\n        if (res.data.result === 'success') {\n          var newCat = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(self.selectedCategory));\n          self.performCategoryDelete();\n          var parent = self.getCategory(self.categoryCascader, superCategoryId);\n          parent.children.push(newCat);\n          _this7.$message({\n            message: 'Successfully changed parent category',\n            type: 'success'\n          });\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this7.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    performCategoryDelete: function performCategoryDelete() {\n      var self = this;\n      var target = self.getCategory(self.categoryCascader, self.selectedCategory.id);\n      var path = self.getCategoryPath(self.categoryCascader, self.selectedCategory.id, []);\n      var parent = self.categoryCascader;\n\n      var _loop = function _loop(i) {\n        var p = path[i];\n        var t = [];\n        parent.every(function (child) {\n          if (child.id === p) {\n            if (i === path.length - 1) {\n              var index = child.children.indexOf(target);\n              child.children.splice(index, 1);\n              self.selectedCategory = {};\n              self.selectedCategoryName = '';\n              self.selectedParentCategory = [];\n            } else {\n              t = child.children;\n            }\n            return false;\n          } else {\n            return true;\n          }\n        });\n        parent = t;\n      };\n\n      for (var i = 0; i < path.length; i++) {\n        _loop(i);\n      }\n    },\n    deleteCategory: function deleteCategory() {\n      var _this8 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'delete',\n        url: this.ip + ('/admin/category/' + self.selectedCategory.id)\n        //          url: `http://121.42.252.18:5000:5000/admin/category/${self.selectedCategory.id}`,\n      }).then(function (response) {\n        if (response.data.result === 'success') {\n          self.performCategoryDelete();\n          _this8.$message({\n            message: 'Successfully deleted category',\n            type: 'success'\n          });\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this8.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    createProp: function createProp() {\n      var _this9 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'post',\n        url: this.ip + ('/admin/category/' + self.selectedCategory.id)\n        //          url: `http://121.42.252.18:5000/admin/category/${self.selectedCategory.id}`\n      }).then(function (response) {\n        _this9.$message({\n          message: 'Successfully created new property',\n          type: 'success'\n        });\n        var body = response.data;\n        var result = body.data.property;\n        _this9.propertyData.push(result);\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this9.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    updatePropName: function updatePropName(index, prop) {\n      var _this10 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'patch',\n        url: this.ip + ('/api/admin/category/' + self.selectedCategory.id),\n        //          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}`,\n        data: {\n          name: self.selectedCategory.name\n        }\n      }).then(function (response) {\n        _this10.$message({\n          message: 'Successfully updated property name',\n          type: 'success'\n        });\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this10.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    deleteProp: function deleteProp(index, prop) {\n      var _this11 = this;\n\n      var self = this;\n      self.$axios({\n        method: 'delete',\n        url: this.ip + ('/api/admin/category/' + self.selectedCategory.id + '/' + prop.id)\n        //          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}/${prop.id}`\n      }).then(function (response) {\n        _this11.$message({\n          message: 'Successfully deleted property',\n          type: 'success'\n        });\n        var index = _this11.propertyData.indexOf(prop);\n        _this11.propertyData.splice(index, 1);\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this11.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    deleteProps: function deleteProps() {\n      var _this12 = this;\n\n      var self = this;\n      var data = { property: self.selectedProperty };\n      self.$axios({\n        method: 'delete',\n        url: this.ip + ('/api/admin/category/' + self.selectedCategory.id + '/property'),\n        //          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}/property`,\n        data: data\n      }).then(function (response) {\n        _this12.$message({\n          message: 'Successfully deleted selected properties',\n          type: 'success'\n        });\n        for (var i = 0; i < self.selectedProperty.length; i++) {\n          var prop = self.selectedProperty[i];\n          var index = _this12.propertyData.indexOf(prop);\n          _this12.propertyData.splice(index, 1);\n        }\n      }).catch(function (response) {\n        var body = response.data;\n        var error = body.error;\n        var errorMessage = body.errorMessage;\n        _this12.$message({\n          message: errorMessage,\n          type: 'error'\n        });\n      });\n    },\n    onPropSelectionChange: function onPropSelectionChange(selection) {\n      this.selectedProperty = selection;\n    },\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      this.selectedCategory.url = URL.createObjectURL(file.raw);\n      console.log('upload success');\n    }\n  },\n  computed: {},\n  mounted: function mounted() {\n    var self = this;\n    self.loadCategories();\n  }\n});\n\n/***/ }),\n\n/***/ \"mvHQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"qkKv\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"qkKv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(\"FeBl\");\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.db18a2ba4982142991a0.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".plyt-catman-cattree[data-v-d97caeb6]{border:0}.plyt-catman-carditem[data-v-d97caeb6]{margin-bottom:16px}.plyt-catman-btn-fill[data-v-d97caeb6]{width:100%}.plyt-catman-cardbutton[data-v-d97caeb6]{-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);height:44px}.plyt-catman-search[data-v-d97caeb6]{height:44px}.plyt-catman-search input[data-v-d97caeb6]{height:44px;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04)}.plyt-catman-cattitle[data-v-d97caeb6]{margin-bottom:24px}.el-button-group[data-v-d97caeb6]{margin-bottom:12px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/zwh/IdeaProjects/my-project/src/views/Admin/templateManagement/editCategory.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,QAAQ,CACT,AACD,uCACE,kBAAkB,CACnB,AACD,uCACE,UAAW,CACZ,AACD,yCACE,yEAAiF,AACzE,iEAAyE,AACjF,WAAY,CACb,AACD,qCACE,WAAa,CACd,AACD,2CACE,YAAa,AACb,yEAAiF,AACzE,gEAAwE,CACjF,AACD,uCACE,kBAAmB,CACpB,AACD,kCACE,kBAAmB,CACpB\",\"file\":\"editCategory.vue\",\"sourcesContent\":[\"\\n.plyt-catman-cattree[data-v-d97caeb6] {\\n  border:0\\n}\\n.plyt-catman-carditem[data-v-d97caeb6]{\\n  margin-bottom:16px\\n}\\n.plyt-catman-btn-fill[data-v-d97caeb6]{\\n  width: 100%\\n}\\n.plyt-catman-cardbutton[data-v-d97caeb6]{\\n  -webkit-box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n  height: 44px\\n}\\n.plyt-catman-search[data-v-d97caeb6]{\\n  height: 44px;\\n}\\n.plyt-catman-search input[data-v-d97caeb6]{\\n  height: 44px;\\n  -webkit-box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04)\\n}\\n.plyt-catman-cattitle[data-v-d97caeb6]{\\n  margin-bottom: 24px\\n}\\n.el-button-group[data-v-d97caeb6]{\\n  margin-bottom: 12px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d97caeb6\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Admin/templateManagement/editCategory.vue\n// module id = 24ch\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d97caeb6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./editCategory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2b553dab\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d97caeb6\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Admin/templateManagement/editCategory.vue\n// module id = 2x2i\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d97caeb6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editCategory.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editCategory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d97caeb6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editCategory.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d97caeb6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Admin/templateManagement/editCategory.vue\n// module id = 6OYX\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{attrs:{\"gutter\":24,\"type\":\"flex\"}},[_c('el-col',{style:({'min-width':' 240px'}),attrs:{\"span\":6}},[_c('el-button',{staticClass:\"plyt-catman-carditem plyt-catman-cardbutton plyt-catman-btn-fill\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.createCategory}},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Create a new category\\n      \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"plyt-catman-carditem plyt-catman-search\",attrs:{\"placeholder\":\"Search category...\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.filterKeyword),callback:function ($$v) {_vm.filterKeyword=$$v},expression:\"filterKeyword\"}}),_vm._v(\" \"),_c('el-card',[_c('el-tree',{ref:\"catTree\",staticClass:\"plyt-catman-cattree\",attrs:{\"data\":_vm.categoryTree,\"props\":_vm.categoryProps,\"filter-node-method\":_vm.categoryFilter,\"highlight-current\":\"\",\"node-key\":\"value\",\"expand-on-click-node\":false},on:{\"node-click\":_vm.onTreeItemClicked}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedCategoryName.length),expression:\"selectedCategoryName.length\"}]},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('h2',{staticClass:\"plyt-catman-cattitle\"},[_vm._v(_vm._s(_vm.selectedCategory.name))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-popover',{ref:\"deleteCatPopover\",attrs:{\"placement\":\"bottom\",\"width\":\"160\"},model:{value:(_vm.deleteCatPopoverVisible),callback:function ($$v) {_vm.deleteCatPopoverVisible=$$v},expression:\"deleteCatPopoverVisible\"}},[_c('p',{staticStyle:{\"margin\":\"8px\"}},[_vm._v(\"Are you sure?\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){_vm.deleteCategory();_vm.deleteCatPopoverVisible = false}}},[_vm._v(\"Yes\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteCatPopoverVisible = false}}},[_vm._v(\"No\")])],1)]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:deleteCatPopover\",arg:\"deleteCatPopover\"}],staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"danger\"}},[_c('i',{staticClass:\"fa fa-trash-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Delete Category\\n            \")])],1)],1),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(\"Category Name\")]),_vm._v(\" \"),_c('div',[_c('el-input',{model:{value:(_vm.selectedCategoryName),callback:function ($$v) {_vm.selectedCategoryName=$$v},expression:\"selectedCategoryName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"plain\"},on:{\"click\":_vm.updateCategoryName},slot:\"append\"},[_c('i',{staticClass:\"el-icon-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Apply\\n            \")])],1)],1),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(\"Parent Category\")]),_vm._v(\" \"),_c('div',[_c('el-cascader',{ref:\"catCascader\",attrs:{\"expand-trigger\":\"click\",\"options\":_vm.categoryCascader,\"props\":_vm.categoryProps,\"change-on-select\":true,\"show-all-levels\":false},model:{value:(_vm.selectedParentCategory),callback:function ($$v) {_vm.selectedParentCategory=$$v},expression:\"selectedParentCategory\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.updateCategoryParent}},[_c('i',{staticClass:\"el-icon-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Apply\\n          \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d97caeb6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Admin/templateManagement/editCategory.vue\n// module id = BD1O\n// module chunks = 3","<template>\n  <div class=\"app-container\">\n    <el-row :gutter=\"24\" type=\"flex\">\n      <el-col :span=\"6\" :style=\"{'min-width':' 240px'}\">\n        <el-button type=\"success\" class=\"plyt-catman-carditem plyt-catman-cardbutton plyt-catman-btn-fill\"\n                   @click=\"createCategory\"><i class=\"el-icon-plus\" aria-hidden=\"true\"></i>Create a new category\n        </el-button>\n        <el-input class=\"plyt-catman-carditem plyt-catman-search\" placeholder=\"Search category...\"\n                  suffix-icon=\"el-icon-search\" v-model=\"filterKeyword\"></el-input>\n        <el-card>\n          <el-tree class=\"plyt-catman-cattree\" :data=\"categoryTree\" :props=\"categoryProps\"\n                   :filter-node-method=\"categoryFilter\" ref=\"catTree\" highlight-current node-key=\"value\"\n                   @node-click=\"onTreeItemClicked\" :expand-on-click-node=\"false\"></el-tree>\n        </el-card>\n      </el-col>\n      <el-col :span=\"18\">\n        <el-card v-show=\"selectedCategoryName.length\">\n          <el-row type=\"flex\">\n            <el-col :span=\"16\"><h2 class=\"plyt-catman-cattitle\">{{selectedCategory.name}}</h2></el-col>\n            <el-col :span=\"8\">\n              <el-popover\n                ref=\"deleteCatPopover\"\n                placement=\"bottom\"\n                width=\"160\"\n                v-model=\"deleteCatPopoverVisible\">\n                <p style=\"margin: 8px;\">Are you sure?</p>\n                <div style=\"text-align: right; margin: 0\">\n                  <el-button size=\"small\" type=\"text\" @click=\"deleteCategory();deleteCatPopoverVisible = false\">Yes</el-button>\n                  <el-button type=\"danger\" size=\"small\" @click=\"deleteCatPopoverVisible = false\">No</el-button>\n                </div>\n              </el-popover>\n              <el-button type=\"danger\" style=\"float: right\" v-popover:deleteCatPopover>\n                <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>Delete Category\n              </el-button>\n            </el-col>\n          </el-row>\n          <h4 style=\"margin:20px 0\">Category Name</h4>\n          <div>\n            <el-input v-model=\"selectedCategoryName\">\n              <el-button type=\"plain\" slot=\"append\" @click=\"updateCategoryName\">\n                <i class=\"el-icon-check\" aria-hidden=\"true\"></i> Apply\n              </el-button>\n            </el-input>\n          </div>\n\n          <h4 style=\"margin:20px 0\">Parent Category</h4>\n          <div>\n            <el-cascader expand-trigger=\"click\" :options=\"categoryCascader\" v-model=\"selectedParentCategory\"\n                         :props=\"categoryProps\" ref=\"catCascader\" :change-on-select=\"true\"\n                         :show-all-levels=\"false\"></el-cascader>\n            <el-button type=\"plain\" @click=\"updateCategoryParent\"><i class=\"el-icon-check\" aria-hidden=\"true\"></i> Apply\n            </el-button>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'template',\n    data () {\n      return {\n        ip: 'http://121.42.252.18:5000',\n//        ip: 'http://192.168.0.15:5000',\n//        ip: '',\n        deleteCatPopoverVisible: false,\n        filterKeyword: '',\n        categoryCascader: [],\n        categoryTree: [],\n        categoryProps: {\n          value: 'id',\n          children: 'children',\n          label: 'name'\n        },\n        propertyData: [],\n        selectedProperty: [],\n        selectedCategory: {},\n        selectedCategoryName: '',\n        selectedParentCategory: []\n      }\n    },\n    watch: {\n      filterKeyword(val) {\n        this.$refs.catTree.filter(val);\n      },\n      selectedCategory(){\n        this.refreshParentCategory();\n      }\n    },\n    methods: {\n      loadCategories(){\n        let self = this;\n        self.$axios({\n          method: 'get',\n          url: this.ip + '/admin/getAllCategory',\n//          url: 'http://121.42.252.18:5000/admin/getAllCategory',\n        }).then(res => {\n          if (res.data.result === 'success') {\n            let tempTree = res.data.treeData;\n            self.categoryCascader = tempTree;\n            self.categoryTree = tempTree[0].children\n          }\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      categoryFilter(value, data){\n        if (!value) return true;\n        return data.name.toLowerCase().search(value.toLowerCase()) !== -1\n      },\n\n      // 当前选择的节点可移动到除了原先位置之外的任意位置\n      refreshCategoryCascader(catList, target, disableAll){\n        if(catList === null){\n          return;\n        }\n        catList.every(cat => {\n          if (disableAll) {\n            cat.disabled = true;\n            if ('children' in cat) {\n              this.refreshCategoryCascader(cat.children, target, true);\n            }\n            return true;\n          }\n\n          cat.disabled = false;\n          if (cat.id === target) {\n            cat.disabled = true;\n            if ('children' in cat) {\n              this.refreshCategoryCascader(cat.children, target, true);\n            }\n          } else {\n            if ('children' in cat) {\n              this.refreshCategoryCascader(cat.children, target, false);\n            }\n          }\n          return true;\n        });\n      },\n      onTreeItemClicked(selectedItem){\n        console.log(selectedItem)\n        this.selectedCategory = selectedItem;\n        this.selectedCategoryName = selectedItem.name;\n//        alert(this.selectedCategory.id)\n        this.refreshCategoryCascader(this.categoryCascader, this.selectedCategory.id, false);\n      },\n      getCategoryPath(catList, target, path){\n        let result = [];\n        if(catList !== null){\n          catList.every(cat => {\n            let tempPath = [];\n            if (cat.id === target) {\n              result = path;\n              return false;\n            } else {\n              if ('children' in cat) {\n                tempPath.push(cat.id);\n                result = this.getCategoryPath(cat.children, target, path.concat(tempPath));\n                return result.length === 0;\n              }\n              return true;\n            }\n          });\n        }\n        return result;\n      },\n      getCategory(catList, target){\n        let result = {};\n        catList.every(cat => {\n          if (cat.id === target) {\n            result = cat;\n            return false;\n          } else {\n            if ('children' in cat) {\n              result = this.getCategory(cat.children, target);\n              return result.id === undefined;\n            }\n            return true;\n          }\n        });\n        return result;\n      },\n      refreshParentCategory(){\n        let result = this.getCategoryPath(this.categoryCascader, this.selectedCategory.id, []);\n        this.selectedParentCategory = result;\n      },\n      createCategory(){\n        let self = this;\n        self.$axios({\n          method: 'post',\n          url: this.ip + '/admin/category'\n//          url: 'http://121.42.252.18:5000/admin/category'\n        }).then(res => {\n          if (res.data.result === 'success'){\n            this.$message({\n              message: 'Successfully created new category',\n              type: 'success'\n            });\n            let result = res.data.category;\n            this.categoryTree.push(result);\n          }\n        }).catch(response => {\n          let body = response.data;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      updateCategoryName(){\n        let self = this;\n        self.$axios({\n          method: 'patch',\n          url: this.ip + `/admin/category/changeName/${self.selectedCategory.id}`,\n//          url: `http://121.42.252.18:5000/admin/category/changeName/${self.selectedCategory.id}`,\n          data: {\n            name: self.selectedCategoryName\n          }\n        }).then(res => {\n          if (res.data.result === 'success'){\n            // 成功时\n            self.selectedCategory.name = self.selectedCategoryName;\n            this.$message({\n              message: 'Successfully changed category name',\n              type: 'success'\n            });\n          }\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      updateCategoryParent(){\n        let self = this;\n        let path = self.$refs.catCascader.value;\n        let superCategoryId = path[path.length - 1];\n        self.$axios({\n          method: 'patch',\n          url: this.ip + `/admin/category/changeParent/${self.selectedCategory.id}`,\n//          url: `http://121.42.252.18:5000/admin/category/changeParent/${self.selectedCategory.id}`,\n          data: {\n            superCategoryId: superCategoryId\n          }\n        }).then(res => {\n          if (res.data.result === 'success'){\n            let newCat = JSON.parse(JSON.stringify(self.selectedCategory));\n            self.performCategoryDelete();\n            let parent = self.getCategory(self.categoryCascader, superCategoryId);\n            parent.children.push(newCat);\n            this.$message({\n              message: 'Successfully changed parent category',\n              type: 'success'\n            });\n          }\n\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      performCategoryDelete(){\n        let self = this;\n        let target = self.getCategory(self.categoryCascader, self.selectedCategory.id);\n        let path = self.getCategoryPath(self.categoryCascader, self.selectedCategory.id, []);\n        let parent = self.categoryCascader;\n\n        for (let i = 0; i < path.length; i++) {\n          let p = path[i];\n          let t = [];\n          parent.every(child => {\n            if (child.id === p) {\n              if (i === path.length - 1) {\n                let index = child.children.indexOf(target);\n                child.children.splice(index, 1);\n                self.selectedCategory = {};\n                self.selectedCategoryName = '';\n                self.selectedParentCategory = [];\n              } else {\n                t = child.children;\n              }\n              return false;\n            } else {\n              return true;\n            }\n          });\n          parent = t;\n        }\n      },\n      deleteCategory(){\n        let self = this;\n        self.$axios({\n          method: 'delete',\n          url: this.ip + `/admin/category/${self.selectedCategory.id}`,\n//          url: `http://121.42.252.18:5000:5000/admin/category/${self.selectedCategory.id}`,\n        }).then(response => {\n          if (response.data.result === 'success') {\n            self.performCategoryDelete();\n            this.$message({\n              message: 'Successfully deleted category',\n              type: 'success'\n            });\n          }\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      createProp(){\n        let self = this;\n        self.$axios({\n          method: 'post',\n          url: this.ip + `/admin/category/${self.selectedCategory.id}`\n//          url: `http://121.42.252.18:5000/admin/category/${self.selectedCategory.id}`\n        }).then(response => {\n          this.$message({\n            message: 'Successfully created new property',\n            type: 'success'\n          });\n          let body = response.data;\n          let result = body.data.property;\n          this.propertyData.push(result);\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      updatePropName(index, prop){\n        let self = this;\n        self.$axios({\n          method: 'patch',\n          url: this.ip + `/api/admin/category/${self.selectedCategory.id}`,\n//          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}`,\n          data: {\n            name: self.selectedCategory.name\n          }\n        }).then(response => {\n          this.$message({\n            message: 'Successfully updated property name',\n            type: 'success'\n          });\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      deleteProp(index, prop){\n        let self = this;\n        self.$axios({\n          method: 'delete',\n          url: this.ip + `/api/admin/category/${self.selectedCategory.id}/${prop.id}`\n//          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}/${prop.id}`\n        }).then(response => {\n          this.$message({\n            message: 'Successfully deleted property',\n            type: 'success'\n          });\n          let index = this.propertyData.indexOf(prop);\n          this.propertyData.splice(index, 1);\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      deleteProps(){\n        let self = this;\n        let data = {property:self.selectedProperty};\n        self.$axios({\n          method: 'delete',\n          url: this.ip+ `/api/admin/category/${self.selectedCategory.id}/property`,\n//          url: `http://121.42.252.18:5000/api/admin/category/${self.selectedCategory.id}/property`,\n          data: data\n        }).then(response => {\n          this.$message({\n            message: 'Successfully deleted selected properties',\n            type: 'success'\n          });\n          for (let i = 0; i < self.selectedProperty.length; i++) {\n            let prop = self.selectedProperty[i];\n            let index = this.propertyData.indexOf(prop);\n            this.propertyData.splice(index, 1);\n          }\n        }).catch(response => {\n          let body = response.data;\n          let error = body.error;\n          let errorMessage = body.errorMessage;\n          this.$message({\n            message: errorMessage,\n            type: 'error'\n          });\n        });\n      },\n      onPropSelectionChange(selection){\n        this.selectedProperty = selection;\n      },\n      handleAvatarSuccess(res, file) {\n        this.selectedCategory.url = URL.createObjectURL(file.raw);\n        console.log('upload success');\n      }\n    },\n    computed: {},\n    mounted: function () {\n      let self = this;\n      self.loadCategories();\n    }\n  }\n</script>\n\n<style scoped=\"scoped\">\n  .plyt-catman-cattree {\n    border:0\n  }\n\n  .plyt-catman-carditem{\n    margin-bottom:16px\n  }\n\n\n  .plyt-catman-btn-fill{\n    width: 100%\n  }\n\n\n  .plyt-catman-cardbutton{\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04);\n    height: 44px\n  }\n\n\n  .plyt-catman-search{\n    height: 44px;\n  }\n  .plyt-catman-search input{\n    height: 44px;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04)\n  }\n\n\n\n  .plyt-catman-cattitle{\n    margin-bottom: 24px\n  }\n\n\n  .el-button-group{\n    margin-bottom: 12px\n  }\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Admin/templateManagement/editCategory.vue","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3"],"sourceRoot":""}